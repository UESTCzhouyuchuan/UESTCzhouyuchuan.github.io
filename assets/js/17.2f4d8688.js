(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{343:function(s,e,a){"use strict";a.r(e);var t=a(3),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("之前技术栈一直是 vue，面字节的时候面试官就没问 vue 的东西，一问才发现，字节前端技术栈是"),a("code",[s._v("React")]),s._v(" + "),a("code",[s._v("TypeScript")]),s._v("。")]),s._v(" "),a("p",[s._v("既然咱是字节的准实习生(本来 2 月 12 号入职，疫情影响推到 3 月 2 号)，就把 React 的基础给学了，改天再学 Typescript。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/20200206/byteDancer.jpg",alt:"/20200206/byteDancer.jpg"}})]),s._v(" "),a("h2",{attrs:{id:"react-使用前的准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-使用前的准备"}},[s._v("#")]),s._v(" React 使用前的准备")]),s._v(" "),a("p",[s._v("对于不是刚刚入门的小白，比如已经学习过 vue，本人推荐使用"),a("code",[s._v("create-react-app")]),s._v("搭建本地开发环境，只是可能会遇到 nodejs 和 npm 的一些困扰，今天上午遇到了 npm 无法使用 CLI 升级的问题，日后会分享出来。好了，言归正传。")]),s._v(" "),a("blockquote",[a("p",[s._v("以下操作默认 nodejs 和 npm 以及安装好并且没出现问题。")])]),s._v(" "),a("h3",{attrs:{id:"create-react-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-react-app"}},[s._v("#")]),s._v(" create-react-app")]),s._v(" "),a("p",[a("code",[s._v("create-react-app")]),s._v("是 react 官方提供的脚手架。")]),s._v(" "),a("p",[s._v("首先使用 npm 安装到全局环境。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -g create-react-app\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用"),a("code",[s._v("create-react-app")]),s._v("创建 react 项目")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(">create-react-app --help\nUsage: create-react-app <project-directory> [options]\nOptions:\n  -V, --version                            output the version number\n  --verbose                                print additional logs\n  --info                                   print environment debug info\n  --scripts-version <alternative-package>  use a non-standard version of react-scripts\n  --template <path-to-template>            specify a template for the created project\n  --use-npm\n  --use-pnp\n  --typescript                             (this option will be removed in favour of templates in the next major\n                                           release of create-react-app)\n  -h, --help                               output usage information\n    Only <project-directory> is required.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"自己搭建-react-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自己搭建-react-webpack"}},[s._v("#")]),s._v(" 自己搭建 react+webpack")]),s._v(" "),a("p",[s._v("阅读我的之前的博客"),a("a",{attrs:{href:"https://blog.yulovexin.xyz/javascript/react-xiang-mu-xue-xiwebpack-pei-zhi.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.yulovexin.xyz/javascript/react-xiang-mu-xue-xiwebpack-pei-zhi.html"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"reactdom-虚拟-dom-渲染页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactdom-虚拟-dom-渲染页面"}},[s._v("#")]),s._v(" ReactDom(虚拟 DOM)渲染页面")]),s._v(" "),a("p",[s._v("React 渲染页面两部曲，使用 React.createElement 创建 VDOM,然后通过 ReactDom.render 渲染到页面上。")]),s._v(" "),a("p",[s._v("引入"),a("code",[s._v("react")]),s._v("和"),a("code",[s._v("react-dom")]),s._v("这两个模块")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import React from "react";\nimport ReactDom from "react-dom";\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"react-createelement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-createelement"}},[s._v("#")]),s._v(" React.createElement")]),s._v(" "),a("p",[a("code",[s._v("React.createElement")]),s._v("作用是创建你需要的 DOM。")]),s._v(" "),a("p",[s._v("函数接收三种参数。")]),s._v(" "),a("ul",[a("li",[s._v("参数 1,string,Element 的 tag 值，例如"),a("code",[s._v('"h1"')])]),s._v(" "),a("li",[s._v("参数 2,object,节点的属性值，例如"),a("code",[s._v('{className = "wrap"}')])]),s._v(" "),a("li",[s._v("参数 3-n,text 类型或者"),a("code",[s._v("React.createElement")]),s._v("的返回类型即 element 类型,为节点的子节点")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("React.createElement(\n  type,\n  [props],\n  [...children]\n)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"reactdom-render"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactdom-render"}},[s._v("#")]),s._v(" ReactDom.render")]),s._v(" "),a("p",[a("code",[s._v("ReactDom.render")]),s._v("的作用是把 VDOM 挂载到指定的容器节点下。")]),s._v(" "),a("p",[s._v("函数接收三个参数，第三个是可选的。")]),s._v(" "),a("ul",[a("li",[s._v("参数 1：element 类型，一般是"),a("code",[s._v("React.createElement")]),s._v("的返回类型，要挂载的 DOM。")]),s._v(" "),a("li",[s._v("参数 2：container 容器，页面的 DOM 元素，一般是通过"),a("code",[s._v("document.getElementById")]),s._v("或者其他选择器获得的 DOM 元素。")]),s._v(" "),a("li",[s._v("参数 3：可选的回调函数。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ReactDOM.render(element, container[, callback])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"jsx-语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsx-语法"}},[s._v("#")]),s._v(" JSX 语法")]),s._v(" "),a("p",[s._v("JSX 是"),a("code",[s._v("javascript xml")]),s._v("的简写，意味 JavaScript 的超集，其作用就是在 js 中使用 html 的标签语法。")]),s._v(" "),a("p",[s._v("例如。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("const ele2 = <h2>这是jsx语法的H2</h2>;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("js 不能直接解析这种语法，需要通过 react 的预解析器解析后，把上面的语法转化成 js 能识别的。\n意思就是把标签语法翻译成"),a("code",[s._v("React.createElement")]),s._v("语法。")]),s._v(" "),a("p",[s._v("翻译后：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('const ele2 = React.createElement("h2", null, "这是jsx语法的H2");\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"jsx-的注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jsx-的注意事项"}},[s._v("#")]),s._v(" jsx 的注意事项")]),s._v(" "),a("p",[s._v("html 的默写关键字和 js 的关键字重复照成的，有"),a("code",[s._v("class、for")])]),s._v(" "),a("p",[s._v("所以，在 jsx 中：")]),s._v(" "),a("ul",[a("li",[s._v("for 写为 htmlFor")]),s._v(" "),a("li",[s._v("class 写为 className")])]),s._v(" "),a("h2",{attrs:{id:"组件。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件。"}},[s._v("#")]),s._v(" 组件。")]),s._v(" "),a("p",[s._v("组件在 react 中是比较核心的概念，组件允许你将 UI 拆分为独立可复用的代码片段，并对每个片段进行独立构思。")]),s._v(" "),a("p",[s._v("组件有两种创建方式，分别是函数式和 Class 式。")]),s._v(" "),a("h3",{attrs:{id:"函数式组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数式组件"}},[s._v("#")]),s._v(" 函数式组件")]),s._v(" "),a("p",[s._v("三点：")]),s._v(" "),a("ul",[a("li",[s._v("函数接收参数 props，返回 element 元素可以为"),a("code",[s._v("null")]),s._v("。")]),s._v(" "),a("li",[s._v("使用时直接把函数名作为标签,参数作为属性。")]),s._v(" "),a("li",[s._v("注意点：组件函数名第一个字母必须大写，props 对象默认只读，不可修改。")])]),s._v(" "),a("p",[a("strong",[s._v("注")]),s._v("：无论"),a("code",[s._v("Vue")]),s._v("还是"),a("code",[s._v("React")]),s._v("，组件的 props 是只读的。\n示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 创建\nfunction FunctionComponent(props) {\n\treturn (\n\t\t<div>\n\t\t\t<h2>name: {props.name}</h2>\n\t\t\t<h3>gender: {props.gender}</h3>\n\t\t</div>\n\t);\n}\n// 使用\nlet me = { name: "周玉川", gender: "男" };\n<FunctionComponent name={me.name} gender={me.gender}></FunctionComponent>\n// <FunctionComponent {...me}></FunctionComponent>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[a("strong",[s._v("Tip")]),s._v("： 父组件可以使用对象的展开运算符"),a("code",[s._v("{...obj}")]),s._v("简化组件的属性值的书写")]),s._v(" "),a("h3",{attrs:{id:"class-组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-组件"}},[s._v("#")]),s._v(" class 组件")]),s._v(" "),a("p",[s._v("有以下几点：")]),s._v(" "),a("ul",[a("li",[s._v("继承 extends React.Component")]),s._v(" "),a("li",[s._v("render 函数返回的视图")]),s._v(" "),a("li",[s._v("通过"),a("code",[s._v("this.props")]),s._v("获得传入的参数属性")]),s._v(" "),a("li",[s._v("使用时和函数组件相同")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('import React from "react";\n\nexport default class ClassComponent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h2>这里是ClassComponent</h2>\n\t\t\t\t<h3>name: {this.props.name}</h3>\n\t\t\t\t<h3>gender: {this.props.gender}</h3>\n\t\t\t</div>\n\t\t);\n\t}\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"state-生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state-生命周期"}},[s._v("#")]),s._v(" state & 生命周期")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/state-and-lifecycle.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://zh-hans.reactjs.org/docs/state-and-lifecycle.html"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("下面是一个闹钟组件。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("class Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {date: new Date()}; // 初始化state\n  }\n\n  componentDidMount() { // 生命周期函数mount挂载后运行\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n  componentWillUnmount() { // 组件接挂后前\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      date: new Date()\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Hello, world!</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <Clock />,\n  document.getElementById('root')\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br")])]),a("h3",{attrs:{id:"state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#state"}},[s._v("#")]),s._v(" state")]),s._v(" "),a("p",[a("code",[s._v("state")]),s._v("是组件的状态，"),a("code",[s._v("setState")]),s._v("更新的就是依赖 state 的视图。")]),s._v(" "),a("p",[s._v("state 注意点：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("不能通过直接改变 state 更新视图，必须通过 setState")])]),s._v(" "),a("li",[a("p",[s._v("state 的更新可能是异步的，多个 setState 可能会合并一个 setState 更新，所以你不要依赖他们的值来更新下一个状态。")]),s._v(" "),a("p",[s._v("例如，此代码可能会无法更新计数器：")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Wrong\nthis.setState({\n  counter: this.state.counter + this.props.increment,\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("要解决这个问题，可以让 setState() 接收一个函数而不是一个对象。这个函数用上一个 state 作为第一个参数，将此次更新被应用时的\nprops 做为第二个参数：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// Correct\nthis.setState((state, props) => ({\n  counter: state.counter + props.increment\n}));\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[s._v("#")]),s._v(" 生命周期")]),s._v(" "),a("p",[a("code",[s._v("componentDidMount()")]),s._v("组件成功挂载后运行。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentDidMount() {\n\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("code",[s._v("componentWillUnmount()")]),s._v("组件被清除前使用。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("componentWillUnmount() {\n\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"事件。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件。"}},[s._v("#")]),s._v(" 事件。")]),s._v(" "),a("ul",[a("li",[s._v("react 采用驼峰式而不是全小写,"),a("code",[s._v("onclick")]),s._v("->"),a("code",[s._v("onClick")])]),s._v(" "),a("li",[s._v("react 的事件是函数变量而不是字符串。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 传统HTML\n<button onclick="event()">button</button>\n// jsx\n<button onClick={this.event}>button</button>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("ul",[a("li",[s._v("react 中不能同时返回 false 组织默认行为，需要显式得"),a("code",[s._v("preventDefault()")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function ActionLink() {\n  function handleClick(e) {\n    e.preventDefault();\n    console.log('The link was clicked.');\n  }\n\n  return (\n    <a href=\"#\" onClick={handleClick}>\n      Click me\n    </a>\n  );\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("class 组件中绑定事件的 this 需要格外注意\njavascript 的 class 的方法默认不绑定 this,当直接把函数的引用传递给事件时,函数中的 this 是 undefined。")]),s._v(" "),a("p",[s._v("这时，解决办法有如下几个：")]),s._v(" "),a("ol",[a("li",[s._v("通过 bind 给函数绑定 this,然后直接使用函数名。")]),s._v(" "),a("li",[s._v("如果没有使用 class fields 语法，可以给事件传递箭头函数，在箭头函数中执行函数。")]),s._v(" "),a("li",[s._v("使用实验性的 public class fields 语法，你可以使用 class fields 正确的绑定回调函数：")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 为了在回调中使用 `this`，这个绑定是必不可少的\nthis.handleClick = this.handleClick.bind(this);\n// 箭头函数\n<button onClick={e => this.handleClick(e)}>Button</button>\n// class fields\nclass LoggingButton extends React.Component {\n  // 此语法确保 `handleClick` 内的 `this` 已被绑定。\n  // 注意: 这是 *实验性* 语法。\n  handleClick = () => {\n    console.log('this is:', this);\n  }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ul",[a("li",[s._v("事件传参")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<button onClick={(e) => this.deleteRow(id, e)}>Delete Row</button>\n<button onClick={this.deleteRow.bind(this, id)}>Delete Row</button>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"条件渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#条件渲染"}},[s._v("#")]),s._v(" 条件渲染")]),s._v(" "),a("ul",[a("li",[s._v("使用 if")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if (isLoggedIn) {\n    button = <LogoutButton onClick={this.handleLogoutClick} />;\n} else {\n    button = <LoginButton onClick={this.handleLoginClick} />;\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("先行运算符")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{unreadMessages.length > 0 &&\n        <h2>\n          You have {unreadMessages.length} unread messages.\n        </h2>\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("三目运算符")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<div>\n      The user is <b>{isLoggedIn ? 'currently' : 'not'}</b> logged in.\n</div>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"列表-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列表-key"}},[s._v("#")]),s._v(" 列表 & key")]),s._v(" "),a("p",[s._v("和 vue 的 v-for 不同，react 的列表需要使用 map 人为处理为一个 item 数组，然后再放到一个父容器中。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("// 通过map处理为一个item数组\nconst listItems = numbers.map((number) =>\n    <li key={number.toString()}>\n      {number}\n    </li>\n);\n// item数组放到父容器中\nreturn(\n    <ul>{listItems}</ul>\n);\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("列表 item 的 key 是作为唯一标识，在 VDOM 的更新 diff 算法中起重要作用，所以 key 值尽量存在，否则会 warning。所以 key 值在兄弟节点之间必须唯一。")])])}),[],!1,null,null,null);e.default=n.exports}}]);