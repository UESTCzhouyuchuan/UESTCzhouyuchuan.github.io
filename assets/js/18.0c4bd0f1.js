(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{345:function(s,e,a){"use strict";a.r(e);var t=a(3),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"写在前面之今日踩坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写在前面之今日踩坑"}},[s._v("#")]),s._v(" 写在前面之今日踩坑")]),s._v(" "),a("p",[s._v("现在是 21:03，这篇文章还没写一个字就已经浪费了半个小时，踩了一个 vuepress 的坑，分类文件夹不能使用大学英文字符，必须一律小写，否则对于 blog 显示空白页，刷新后 404 页面。")]),s._v(" "),a("p",[s._v("例如：前者分类命名是错误的，必须改成小写。")]),s._v(" "),a("p",[a("img",{attrs:{src:"/20200204/upperCaseError.png",alt:"upperCaseError"}}),s._v(" "),a("img",{attrs:{src:"/20200204/lowerCaseRight.png",alt:"lowerCaseRight"}})]),s._v(" "),a("p",[s._v("废话不多说，直接进入正题。")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("之前面试的时候，无论是腾讯、字节还是网易，鄙人都被问到一个问题，"),a("strong",[s._v("你的 vue 项目是用的脚手架还是自己配置的？")]),s._v(",甚至夺命连环问"),a("strong",[s._v("了解 webpack")]),s._v(" 、"),a("strong",[s._v("会用 webpack 吗？")]),s._v("。")]),s._v(" "),a("p",[s._v("故，今天，就是要好好"),a("strong",[s._v("了解")]),s._v("怎么配置 webpack，以新学的地 React 为例，主要有 webpack.config.js、webpack 官方和第三方插件、webpack 的基本命令这几部分。")]),s._v(" "),a("h2",{attrs:{id:"webpack4-x-基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack4-x-基本配置"}},[s._v("#")]),s._v(" webpack4.x 基本配置")]),s._v(" "),a("p",[s._v("首先，新建一个 React 项目目录，目录名就记为 React。")]),s._v(" "),a("p",[s._v("然后第二步，创建基本的目录结构")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("npm init -y")]),s._v(" 创建包管理文件"),a("code",[s._v("package.json")])]),s._v(" "),a("li",[s._v("创建"),a("code",[s._v("src")]),s._v("文件夹，存放项目源码")]),s._v(" "),a("li",[a("code",[s._v("src")]),s._v("文件里面创建"),a("code",[s._v("index.js")]),s._v("以及"),a("code",[s._v("index.html")]),s._v("文件")]),s._v(" "),a("li",[s._v("创建 dist 文件夹，作为项目打包后的文件夹")]),s._v(" "),a("li",[s._v("创建"),a("code",[s._v("webpack.config.js")]),s._v("文件,作为 webpack 的配置文件")])]),s._v(" "),a("p",[s._v("第三步，装基本包，主要有 webpack,webpack-cli,webpack-dev-server,html-webpack-plugin")]),s._v(" "),a("ol",[a("li",[s._v("webpack 和 webpack-cli 是基本包。")]),s._v(" "),a("li",[s._v("webpack-dev-server 作用是热更新，实时打包。")]),s._v(" "),a("li",[s._v("html-webpack-plugin 作用是把页面结果展示出来。")])]),s._v(" "),a("p",[s._v("在命令行运行命令"),a("code",[s._v("npm install -D webpack webpack-cli webpack-dev-server html-webpack-plugin")]),s._v("。")]),s._v(" "),a("p",[s._v("包管理文件中的"),a("code",[s._v("devDependencies")]),s._v("应该如下所示")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"devDependencies": {\n\t\t"html-webpack-plugin": "^3.2.0",\n\t\t"webpack": "^4.41.5",\n\t\t"webpack-cli": "^3.3.10",\n\t\t"webpack-dev-server": "^3.10.2"\n\t}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("第四步，为"),a("code",[s._v("npm")]),s._v("添加脚本命令"),a("code",[s._v("dev")]),s._v(",")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"scripts": {\n\t\t"test": "echo \\"Error: no test specified\\" && exit 1",\n\t\t"build": "webpack", // 打包时命令\n\t\t"dev": "webpack-dev-server --open firefox --port 2233 --hot" // 开发时\n\t},\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("第五步，修改"),a("code",[s._v("webpack")]),s._v("的配置文件。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('const path = require("path");\nconst htmlWebpackPlugin = require("html-webpack-plugin");\n// 新建插件实例\nconst htmlPlugin = new htmlWebpackPlugin({\n\ttemplate: path.join(__dirname, "./src/index.html"), // 目标文件\n\tfilename: "index.html", //生成的文件\n});\nmodule.exports = {\n\t// Node的模块化语法，webpack是基于Node构建的，es6的是export default\n\tmode: "development", // 开发环境和生产环境，development,production\n\tentry: "./src/index.js", // 默认入口文件，可以不用写，减少配置文件体积,默认输出文件是./dist/main.js\n\n\tplugins: [htmlPlugin],\n\tmodule: {\n\t\t//第三方插件\n\t\trules: [\n\t\t\t{ test: /\\.js|jsx$/, use: "babel-loader", exclude: /node_modules/ },\n\t\t],\n\t},\n\tresolve: {\n\t\textensions: [".js", ".jsx", ".html"], // 添加文件扩展名\n\t\talias: {\n\t\t\t"@": path.join(__dirname, "./src"), // 源代码根目录别名\n\t\t},\n\t},\n};\n\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("h2",{attrs:{id:"接下里是-react-部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接下里是-react-部分"}},[s._v("#")]),s._v(" 接下里是 React 部分")]),s._v(" "),a("h3",{attrs:{id:"装-react-的基本包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#装-react-的基本包"}},[s._v("#")]),s._v(" 装 React 的基本包")]),s._v(" "),a("p",[s._v("使用命令"),a("code",[s._v("npm install -S react react-dom react-scripts")]),s._v(",-S 表示生产环境也需要使用。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('"dependencies": {\n    "react": "^16.12.0",\n    "react-dom": "^16.12.0",\n    "react-scripts": "3.3.1"\n  },\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"不适用脚手架在-js-中使用-jsx-语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不适用脚手架在-js-中使用-jsx-语法"}},[s._v("#")]),s._v(" 不适用脚手架在 js 中使用 jsx 语法")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("安装 babel")]),s._v(" "),a("p",[a("strong",[s._v("注意")]),s._v("："),a("code",[s._v("babel 6.x")]),s._v("和"),a("code",[s._v("babel 7.x")]),s._v("版本是不兼容的所以一定统一版本,"),a("code",[s._v("@babel/")]),s._v("是 babel7 版本的写法。")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -D @babel/core babel-loader @babel/plugin-transform-runtime\n\nnpm install -D @babel/preset-env\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("安装转化 jsx 语法的包"),a("code",[s._v("@babel/preset-react")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install -D @babel/preset-react\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装后，"),a("code",[s._v("package.json")]),s._v("如图")]),s._v(" "),a("p",[a("img",{attrs:{src:"/20200204/installBabel.png",alt:"installBabel"}})]),s._v(" "),a("ul",[a("li",[s._v("配置 babel 的配置文件"),a("code",[s._v(".babelrc")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n\t"presets": ["@babel/env", "@babel/react"],\n\t"plugins": ["@babel/transform-runtime"]\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("修改"),a("code",[s._v("webpack.config.js")]),s._v("使用第三方模块")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('module: {\n\t\t//第三方插件\n\t\trules: [\n\t\t\t{ test: /\\.js|jsx$/, use: "babel-loader", exclude: /node_modules/ },\n\t\t],\n\t},\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("然后就可以愉快的在 js 中使用 jsx 语法了。")])])}),[],!1,null,null,null);e.default=n.exports}}]);